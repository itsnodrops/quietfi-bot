(function(_0xd2ffa0,_0x45ec2d){const _0x480676=a0_0x3f83,_0x128f02=_0xd2ffa0();while(!![]){try{const _0x263046=-parseInt(_0x480676(0x80))/0x1+parseInt(_0x480676(0xa2))/0x2*(parseInt(_0x480676(0xbc))/0x3)+parseInt(_0x480676(0xd9))/0x4*(-parseInt(_0x480676(0xda))/0x5)+parseInt(_0x480676(0xc5))/0x6+parseInt(_0x480676(0x87))/0x7*(-parseInt(_0x480676(0x92))/0x8)+parseInt(_0x480676(0xcd))/0x9*(parseInt(_0x480676(0xe6))/0xa)+parseInt(_0x480676(0x8a))/0xb*(parseInt(_0x480676(0xc9))/0xc);if(_0x263046===_0x45ec2d)break;else _0x128f02['push'](_0x128f02['shift']());}catch(_0x13c34b){_0x128f02['push'](_0x128f02['shift']());}}}(a0_0x5546,0xcadc2));const a0_0x4ee930=(function(){let _0x75656b=!![];return function(_0x558bc5,_0x1c95ac){const _0x491970=_0x75656b?function(){const _0x4c76e1=a0_0x3f83;if(_0x1c95ac){const _0x1a9712=_0x1c95ac[_0x4c76e1(0xeb)](_0x558bc5,arguments);return _0x1c95ac=null,_0x1a9712;}}:function(){};return _0x75656b=![],_0x491970;};}());(function(){a0_0x4ee930(this,function(){const _0x57d96e=a0_0x3f83,_0x57657d=new RegExp(_0x57d96e(0xb1)),_0x2c2d3e=new RegExp(_0x57d96e(0x9b),'i'),_0x30e877=a0_0x3c70c6(_0x57d96e(0xd0));!_0x57657d['test'](_0x30e877+_0x57d96e(0x84))||!_0x2c2d3e['test'](_0x30e877+'input')?_0x30e877('0'):a0_0x3c70c6();})();}());import{ethers}from'ethers';function a0_0x5546(){const _0x60f41=['apply','Sending\x20withdraw\x20sqUSD\x20transaction...','\x20ETH','Successfully\x20minted\x20qUSD!\x20Hash:\x20','Sending\x20mint\x20qUSD\x20transaction...','1448406CqVVxO','address','\x20qUSD\x20to\x20sqUSD...','\x20USDC...','chain','balanceOf','Successfully\x20minted\x20sqUSD!\x20Hash:\x20','7OIPhMM','constructor','Contract','9470549HytTIU','Insufficient\x20ETH\x20for\x20gas:\x20have\x20','ZeroHash','MINT_SWAP','call','squsd','Sending\x20mint\x20sqUSD\x20transaction...','Successfully\x20withdrawn\x20sqUSD\x20to\x20USDC!\x20Hash:\x20','462896kPWgUs','0x096ac657','formatUnits','approve','Sending\x20withdraw\x20qUSD\x20transaction...','wait','slice','\x20ETH,\x20Need:\x20~','hasEnough','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','interface','now','noRetry','Signing\x20USDC\x20permit\x20for\x20','USDC','function\x20approve(address\x20spender,\x20uint256\x20amount)\x20returns\x20(bool)','2VPJVsh','APPROVE','gger','Transaction\x20sent:\x20','SQUSD','hash',',\x20need\x20~','Stake\x20qUSD\x20failed:\x20','function\x20allowance(address\x20owner,\x20address\x20spender)\x20view\x20returns\x20(uint256)','Approving\x20qUSD\x20for\x20withdrawal...','Mint\x20qUSD:\x20Insufficient\x20ETH.\x20Have:\x20','balance','random','balanceFormatted','encodeFunctionData','function\x20*\x5c(\x20*\x5c)','length','zeroPadValue','success','parseUnits','qusd','Approving\x20sqUSD\x20for\x20withdrawal...','.\x20Waiting\x20for\x20confirmation...','error','requiredFormatted','join','122553mHBEWQ','status','Withdraw\x20qUSD\x20failed:\x20','includes','info','sendTransaction','code','MINT_QUSD','string','8918496UFMpme','allowance','required','WITHDRAW_QUSD','24rFiiUT','insufficient\x20funds','debu','warn','401958wAGwhX','INSUFFICIENT_FUNDS','deposit','init','WITHDRAW_SQUSD','provider','counter','toBeHex','message','all','stateObject','Withdrawing\x20','212bdaJAU','107105XguljD','\x20sqUSD\x20to\x20USDC...','InsufficientFundsError','floor','Withdraw\x20sqUSD\x20failed:\x20','map','Withdraw\x20qUSD:\x20Insufficient\x20ETH.\x20Have:\x20','Transaction\x20reverted','function\x20balanceOf(address)\x20view\x20returns\x20(uint256)','Mint\x20sqUSD\x20failed:\x20','Withdraw\x20sqUSD:\x20Insufficient\x20ETH.\x20Have:\x20','Mint\x20sqUSD:\x20Insufficient\x20ETH.\x20Have:\x20','50dTxhAo','QUSD','MINT_SQUSD','Approving\x20qUSD\x20for\x20staking...','getBigInt'];a0_0x5546=function(){return _0x60f41;};return a0_0x5546();}import{CONTRACTS,signPermit,getUsdcContract,retryRpcCall,hasEnoughGas,GAS_LIMITS,getGasPrice,getEthBalance,estimateGasLimit}from'../core/network.js';export class InsufficientFundsError extends Error{constructor(_0x4f22ff,_0x36132e,_0x2363c4){const _0x2c8ca5=a0_0x3f83;super(_0x4f22ff),this['name']=_0x2c8ca5(0xdc),this[_0x2c8ca5(0xad)]=_0x36132e,this[_0x2c8ca5(0xc7)]=_0x2363c4,this[_0x2c8ca5(0x9e)]=!![];}}function encodeMintData(_0x13af1b,_0x422415,_0x124b72,_0x3488a0,_0xa23e33,_0x529f92){const _0x27f5db=a0_0x3f83,_0x445b82=_0x27f5db(0x93),_0x5ccf37=[ethers[_0x27f5db(0xb3)](ethers[_0x27f5db(0xd4)](_0x13af1b),0x20),ethers[_0x27f5db(0xb3)](ethers[_0x27f5db(0xd4)](_0x422415),0x20),ethers['zeroPadValue'](ethers[_0x27f5db(0xd4)](_0x124b72),0x20),ethers['zeroPadValue'](ethers[_0x27f5db(0xd4)](_0x3488a0),0x20),ethers[_0x27f5db(0xb3)](_0xa23e33,0x20),ethers['zeroPadValue'](_0x529f92,0x20)];return _0x445b82+_0x5ccf37[_0x27f5db(0xdf)](_0xec63ac=>_0xec63ac[_0x27f5db(0x98)](0x2))[_0x27f5db(0xbb)]('');}function encodeWithdrawData(_0x265f27,_0x230652,_0x504f34,_0x349a03,_0x425aba,_0x9b9fbd,_0x2e9091){const _0x362003=a0_0x3f83,_0x47e727='0xc30522fb',_0x110d5d=[ethers[_0x362003(0xb3)](ethers[_0x362003(0xd4)](_0x265f27),0x20),ethers['zeroPadValue'](ethers[_0x362003(0xd4)](_0x230652),0x20),ethers[_0x362003(0xb3)](ethers[_0x362003(0xd4)](_0x504f34),0x20),ethers[_0x362003(0xb3)](ethers[_0x362003(0xd4)](_0x349a03),0x20),ethers['zeroPadValue'](ethers[_0x362003(0xd4)](_0x425aba),0x20),ethers[_0x362003(0xb3)](_0x9b9fbd,0x20),ethers[_0x362003(0xb3)](_0x2e9091,0x20)];return _0x47e727+_0x110d5d[_0x362003(0xdf)](_0x29d7a5=>_0x29d7a5['slice'](0x2))[_0x362003(0xbb)]('');}export async function mintQusd(_0x4ead11,_0x428741,_0x59daae){const _0x3e8494=a0_0x3f83,_0x4d5cb9=await hasEnoughGas(_0x4ead11,GAS_LIMITS[_0x3e8494(0xc3)]);if(!_0x4d5cb9['hasEnough']){_0x59daae[_0x3e8494(0xcc)](_0x3e8494(0xac)+_0x4d5cb9[_0x3e8494(0xaf)]+'\x20ETH,\x20Need:\x20~'+_0x4d5cb9[_0x3e8494(0xba)]+_0x3e8494(0x7d));throw new InsufficientFundsError(_0x3e8494(0x8b)+_0x4d5cb9['balanceFormatted']+_0x3e8494(0xa8)+_0x4d5cb9[_0x3e8494(0xba)],_0x4d5cb9[_0x3e8494(0xad)],_0x4d5cb9[_0x3e8494(0xc7)]);}try{const _0x36f79e=ethers[_0x3e8494(0xea)](_0x428741),_0x119496=Math[_0x3e8494(0xdd)](Date[_0x3e8494(0x9d)]()/0x3e8)+0xe10;_0x59daae['info'](_0x3e8494(0x9f)+ethers[_0x3e8494(0x94)](_0x36f79e,0x6)+_0x3e8494(0x83));const {v:_0x48192c,r:_0x8ad8a4,s:_0x3814ca}=await signPermit(_0x4ead11,CONTRACTS['USDC'],CONTRACTS['MINT_SWAP'],_0x36f79e,_0x119496),_0x3d804a=encodeMintData(_0x36f79e,0x0,_0x119496,_0x48192c,_0x8ad8a4,_0x3814ca),_0x5a0877=await getGasPrice(_0x4ead11['provider']),_0x431864={'to':CONTRACTS[_0x3e8494(0x8d)],'data':_0x3d804a,'from':_0x4ead11[_0x3e8494(0x81)]},_0x82e250=await estimateGasLimit(_0x4ead11['provider'],_0x431864,GAS_LIMITS[_0x3e8494(0xc3)]);_0x59daae[_0x3e8494(0xc0)](_0x3e8494(0x7f));const _0x34c787=await _0x4ead11['sendTransaction']({'to':CONTRACTS[_0x3e8494(0x8d)],'data':_0x3d804a,'gasLimit':_0x82e250,'maxFeePerGas':_0x5a0877,'maxPriorityFeePerGas':_0x5a0877/0xan});_0x59daae[_0x3e8494(0xc0)](_0x3e8494(0xa5)+_0x34c787[_0x3e8494(0xa7)]+_0x3e8494(0xb8));const _0x15f771=await _0x34c787['wait']();if(_0x15f771[_0x3e8494(0xbd)]===0x0)throw new Error('Transaction\x20reverted');return _0x59daae[_0x3e8494(0xb4)](_0x3e8494(0x7e)+_0x34c787['hash']),_0x34c787[_0x3e8494(0xa7)];}catch(_0x468e37){if(_0x468e37 instanceof InsufficientFundsError)throw _0x468e37;if(_0x468e37[_0x3e8494(0xc2)]===_0x3e8494(0xce)||_0x468e37[_0x3e8494(0xd5)][_0x3e8494(0xbf)](_0x3e8494(0xca)))throw new InsufficientFundsError(_0x468e37[_0x3e8494(0xd5)],0x0n,0x0n);_0x59daae['error']('Mint\x20qUSD\x20failed:\x20'+_0x468e37[_0x3e8494(0xd5)]);throw _0x468e37;}}function a0_0x3f83(_0x56d7c9,_0x1a6466){_0x56d7c9=_0x56d7c9-0x7c;const _0x1eeec4=a0_0x5546();let _0x3c70c6=_0x1eeec4[_0x56d7c9];return _0x3c70c6;}export async function mintSqusd(_0x203e75,_0x309133,_0x30efad){const _0x579567=a0_0x3f83,_0x26631c=await hasEnoughGas(_0x203e75,GAS_LIMITS[_0x579567(0xe8)]);if(!_0x26631c['hasEnough']){_0x30efad[_0x579567(0xcc)](_0x579567(0xe5)+_0x26631c[_0x579567(0xaf)]+'\x20ETH,\x20Need:\x20~'+_0x26631c[_0x579567(0xba)]+'\x20ETH');throw new InsufficientFundsError('Insufficient\x20ETH\x20for\x20gas:\x20have\x20'+_0x26631c[_0x579567(0xaf)]+_0x579567(0xa8)+_0x26631c['requiredFormatted'],_0x26631c[_0x579567(0xad)],_0x26631c['required']);}try{const _0x8e1f68=ethers['getBigInt'](_0x309133),_0x22cd71=Math[_0x579567(0xdd)](Date[_0x579567(0x9d)]()/0x3e8)+0xe10;_0x30efad['info']('Signing\x20USDC\x20permit\x20for\x20'+ethers[_0x579567(0x94)](_0x8e1f68,0x6)+_0x579567(0x83));const {v:_0x189316,r:_0x29c37d,s:_0x525ad6}=await signPermit(_0x203e75,CONTRACTS[_0x579567(0xa0)],CONTRACTS[_0x579567(0x8d)],_0x8e1f68,_0x22cd71),_0x9b28f9=encodeMintData(_0x8e1f68,0x1,_0x22cd71,_0x189316,_0x29c37d,_0x525ad6),_0x422886=await getGasPrice(_0x203e75[_0x579567(0xd2)]),_0x179bc2={'to':CONTRACTS[_0x579567(0x8d)],'data':_0x9b28f9,'from':_0x203e75['address']},_0x16dc37=await estimateGasLimit(_0x203e75['provider'],_0x179bc2,GAS_LIMITS[_0x579567(0xe8)]);_0x30efad['info'](_0x579567(0x90));const _0x242beb=await _0x203e75[_0x579567(0xc1)]({'to':CONTRACTS[_0x579567(0x8d)],'data':_0x9b28f9,'gasLimit':_0x16dc37,'maxFeePerGas':_0x422886,'maxPriorityFeePerGas':_0x422886/0xan});_0x30efad[_0x579567(0xc0)]('Transaction\x20sent:\x20'+_0x242beb[_0x579567(0xa7)]+_0x579567(0xb8));const _0x23af37=await _0x242beb[_0x579567(0x97)]();if(_0x23af37['status']===0x0)throw new Error(_0x579567(0xe1));return _0x30efad['success'](_0x579567(0x86)+_0x242beb[_0x579567(0xa7)]),_0x242beb[_0x579567(0xa7)];}catch(_0x5a8167){if(_0x5a8167 instanceof InsufficientFundsError)throw _0x5a8167;if(_0x5a8167[_0x579567(0xc2)]===_0x579567(0xce)||_0x5a8167[_0x579567(0xd5)][_0x579567(0xbf)]('insufficient\x20funds'))throw new InsufficientFundsError(_0x5a8167[_0x579567(0xd5)],0x0n,0x0n);_0x30efad[_0x579567(0xb9)](_0x579567(0xe3)+_0x5a8167[_0x579567(0xd5)]);throw _0x5a8167;}}export async function withdrawQusd(_0x1942cd,_0x265508,_0x430d5c){const _0x1ab6ed=a0_0x3f83,_0x28cf58=await hasEnoughGas(_0x1942cd,GAS_LIMITS['WITHDRAW_QUSD']+GAS_LIMITS['APPROVE']);if(!_0x28cf58[_0x1ab6ed(0x9a)]){_0x430d5c['warn'](_0x1ab6ed(0xe0)+_0x28cf58['balanceFormatted']+_0x1ab6ed(0x99)+_0x28cf58[_0x1ab6ed(0xba)]+_0x1ab6ed(0x7d));throw new InsufficientFundsError('Insufficient\x20ETH\x20for\x20gas:\x20have\x20'+_0x28cf58[_0x1ab6ed(0xaf)]+_0x1ab6ed(0xa8)+_0x28cf58[_0x1ab6ed(0xba)],_0x28cf58['balance'],_0x28cf58['required']);}try{const _0xc79508=ethers[_0x1ab6ed(0xea)](_0x265508);_0x430d5c[_0x1ab6ed(0xc0)](_0x1ab6ed(0xd8)+ethers[_0x1ab6ed(0x94)](_0xc79508,0x12)+'\x20qUSD\x20to\x20USDC...');const _0x2180c0=await getGasPrice(_0x1942cd[_0x1ab6ed(0xd2)]),_0x1fc996=new ethers[(_0x1ab6ed(0x89))](CONTRACTS[_0x1ab6ed(0xe7)],[_0x1ab6ed(0xa1),'function\x20allowance(address\x20owner,\x20address\x20spender)\x20view\x20returns\x20(uint256)'],_0x1942cd),_0x381523=await _0x1fc996[_0x1ab6ed(0xc6)](_0x1942cd[_0x1ab6ed(0x81)],CONTRACTS['MINT_SWAP']);if(_0x381523<_0xc79508){_0x430d5c[_0x1ab6ed(0xc0)](_0x1ab6ed(0xab));const _0x3a8a50=_0x1fc996['interface']['encodeFunctionData'](_0x1ab6ed(0x95),[CONTRACTS[_0x1ab6ed(0x8d)],_0xc79508]),_0x18fed7=await estimateGasLimit(_0x1942cd[_0x1ab6ed(0xd2)],{'to':CONTRACTS[_0x1ab6ed(0xe7)],'data':_0x3a8a50,'from':_0x1942cd[_0x1ab6ed(0x81)]},GAS_LIMITS[_0x1ab6ed(0xa3)]),_0x1b7783=await _0x1fc996['approve'](CONTRACTS[_0x1ab6ed(0x8d)],_0xc79508,{'gasLimit':_0x18fed7,'maxFeePerGas':_0x2180c0,'maxPriorityFeePerGas':_0x2180c0/0xan});await _0x1b7783[_0x1ab6ed(0x97)]();}const _0x131c6e=encodeWithdrawData(_0xc79508,0x0,0x1,0x0,0x0,ethers[_0x1ab6ed(0x8c)],ethers['ZeroHash']),_0x56a6ad={'to':CONTRACTS[_0x1ab6ed(0x8d)],'data':_0x131c6e,'from':_0x1942cd[_0x1ab6ed(0x81)]},_0x519e58=await estimateGasLimit(_0x1942cd[_0x1ab6ed(0xd2)],_0x56a6ad,GAS_LIMITS[_0x1ab6ed(0xc8)]);_0x430d5c[_0x1ab6ed(0xc0)](_0x1ab6ed(0x96));const _0x2a839d=await _0x1942cd[_0x1ab6ed(0xc1)]({'to':CONTRACTS[_0x1ab6ed(0x8d)],'data':_0x131c6e,'gasLimit':_0x519e58,'maxFeePerGas':_0x2180c0,'maxPriorityFeePerGas':_0x2180c0/0xan});_0x430d5c['info']('Transaction\x20sent:\x20'+_0x2a839d[_0x1ab6ed(0xa7)]+_0x1ab6ed(0xb8));const _0x4da0eb=await _0x2a839d[_0x1ab6ed(0x97)]();if(_0x4da0eb['status']===0x0)throw new Error(_0x1ab6ed(0xe1));return _0x430d5c['success']('Successfully\x20withdrawn\x20qUSD\x20to\x20USDC!\x20Hash:\x20'+_0x2a839d[_0x1ab6ed(0xa7)]),_0x2a839d['hash'];}catch(_0x575a26){if(_0x575a26 instanceof InsufficientFundsError)throw _0x575a26;if(_0x575a26[_0x1ab6ed(0xc2)]===_0x1ab6ed(0xce)||_0x575a26['message']['includes']('insufficient\x20funds'))throw new InsufficientFundsError(_0x575a26[_0x1ab6ed(0xd5)],0x0n,0x0n);_0x430d5c[_0x1ab6ed(0xb9)](_0x1ab6ed(0xbe)+_0x575a26[_0x1ab6ed(0xd5)]);throw _0x575a26;}}export async function withdrawSqusd(_0x17c388,_0x4f37a2,_0xf09f88){const _0x27dfbf=a0_0x3f83,_0x20034b=await hasEnoughGas(_0x17c388,GAS_LIMITS[_0x27dfbf(0xd1)]+GAS_LIMITS[_0x27dfbf(0xa3)]);if(!_0x20034b[_0x27dfbf(0x9a)]){_0xf09f88['warn'](_0x27dfbf(0xe4)+_0x20034b[_0x27dfbf(0xaf)]+_0x27dfbf(0x99)+_0x20034b['requiredFormatted']+_0x27dfbf(0x7d));throw new InsufficientFundsError(_0x27dfbf(0x8b)+_0x20034b[_0x27dfbf(0xaf)]+',\x20need\x20~'+_0x20034b['requiredFormatted'],_0x20034b['balance'],_0x20034b[_0x27dfbf(0xc7)]);}try{const _0x563c98=ethers['getBigInt'](_0x4f37a2);_0xf09f88[_0x27dfbf(0xc0)]('Withdrawing\x20'+ethers[_0x27dfbf(0x94)](_0x563c98,0x12)+_0x27dfbf(0xdb));const _0x7f0107=await getGasPrice(_0x17c388[_0x27dfbf(0xd2)]),_0x21ebb9=new ethers[(_0x27dfbf(0x89))](CONTRACTS['SQUSD'],[_0x27dfbf(0xa1),_0x27dfbf(0xaa)],_0x17c388),_0x4f24f7=await _0x21ebb9['allowance'](_0x17c388[_0x27dfbf(0x81)],CONTRACTS[_0x27dfbf(0x8d)]);if(_0x4f24f7<_0x563c98){_0xf09f88[_0x27dfbf(0xc0)](_0x27dfbf(0xb7));const _0x4d0117=_0x21ebb9[_0x27dfbf(0x9c)][_0x27dfbf(0xb0)]('approve',[CONTRACTS['MINT_SWAP'],_0x563c98]),_0x360d2a=await estimateGasLimit(_0x17c388[_0x27dfbf(0xd2)],{'to':CONTRACTS[_0x27dfbf(0xa6)],'data':_0x4d0117,'from':_0x17c388[_0x27dfbf(0x81)]},GAS_LIMITS[_0x27dfbf(0xa3)]),_0x2f3e39=await _0x21ebb9[_0x27dfbf(0x95)](CONTRACTS[_0x27dfbf(0x8d)],_0x563c98,{'gasLimit':_0x360d2a,'maxFeePerGas':_0x7f0107,'maxPriorityFeePerGas':_0x7f0107/0xan});await _0x2f3e39['wait']();}const _0x25f7c0=encodeWithdrawData(_0x563c98,0x1,0x1,0x0,0x0,ethers['ZeroHash'],ethers[_0x27dfbf(0x8c)]),_0xfde9bb={'to':CONTRACTS[_0x27dfbf(0x8d)],'data':_0x25f7c0,'from':_0x17c388[_0x27dfbf(0x81)]},_0x98ba12=await estimateGasLimit(_0x17c388['provider'],_0xfde9bb,GAS_LIMITS[_0x27dfbf(0xd1)]);_0xf09f88['info'](_0x27dfbf(0x7c));const _0x5dbc5a=await _0x17c388['sendTransaction']({'to':CONTRACTS['MINT_SWAP'],'data':_0x25f7c0,'gasLimit':_0x98ba12,'maxFeePerGas':_0x7f0107,'maxPriorityFeePerGas':_0x7f0107/0xan});_0xf09f88[_0x27dfbf(0xc0)](_0x27dfbf(0xa5)+_0x5dbc5a[_0x27dfbf(0xa7)]+_0x27dfbf(0xb8));const _0x3557fc=await _0x5dbc5a[_0x27dfbf(0x97)]();if(_0x3557fc[_0x27dfbf(0xbd)]===0x0)throw new Error(_0x27dfbf(0xe1));return _0xf09f88[_0x27dfbf(0xb4)](_0x27dfbf(0x91)+_0x5dbc5a[_0x27dfbf(0xa7)]),_0x5dbc5a[_0x27dfbf(0xa7)];}catch(_0x8b9d48){if(_0x8b9d48 instanceof InsufficientFundsError)throw _0x8b9d48;if(_0x8b9d48[_0x27dfbf(0xc2)]===_0x27dfbf(0xce)||_0x8b9d48[_0x27dfbf(0xd5)][_0x27dfbf(0xbf)](_0x27dfbf(0xca)))throw new InsufficientFundsError(_0x8b9d48[_0x27dfbf(0xd5)],0x0n,0x0n);_0xf09f88[_0x27dfbf(0xb9)](_0x27dfbf(0xde)+_0x8b9d48[_0x27dfbf(0xd5)]);throw _0x8b9d48;}}export async function stakeQusd(_0x21cbe3,_0x4e2fc9,_0x330889){const _0x3a6861=a0_0x3f83,_0x2d5840=await hasEnoughGas(_0x21cbe3,GAS_LIMITS[_0x3a6861(0xe8)]+GAS_LIMITS[_0x3a6861(0xa3)]);if(!_0x2d5840[_0x3a6861(0x9a)]){_0x330889[_0x3a6861(0xcc)]('Stake\x20qUSD:\x20Insufficient\x20ETH.\x20Have:\x20'+_0x2d5840[_0x3a6861(0xaf)]+'\x20ETH,\x20Need:\x20~'+_0x2d5840[_0x3a6861(0xba)]+_0x3a6861(0x7d));throw new InsufficientFundsError('Insufficient\x20ETH\x20for\x20gas:\x20have\x20'+_0x2d5840[_0x3a6861(0xaf)]+',\x20need\x20~'+_0x2d5840['requiredFormatted'],_0x2d5840['balance'],_0x2d5840[_0x3a6861(0xc7)]);}try{const _0x156929=ethers['getBigInt'](_0x4e2fc9);_0x330889['info']('Staking\x20'+ethers[_0x3a6861(0x94)](_0x156929,0x12)+_0x3a6861(0x82));const _0x407c2d=new ethers[(_0x3a6861(0x89))](CONTRACTS[_0x3a6861(0xe7)],[_0x3a6861(0xa1),_0x3a6861(0xaa)],_0x21cbe3),_0x5ca3db=await getGasPrice(_0x21cbe3[_0x3a6861(0xd2)]),_0x26c5ee=await _0x407c2d['allowance'](_0x21cbe3['address'],CONTRACTS[_0x3a6861(0xa6)]);if(_0x26c5ee<_0x156929){_0x330889[_0x3a6861(0xc0)](_0x3a6861(0xe9));const _0x459034=_0x407c2d[_0x3a6861(0x9c)][_0x3a6861(0xb0)](_0x3a6861(0x95),[CONTRACTS[_0x3a6861(0xa6)],_0x156929]),_0x321f96=await estimateGasLimit(_0x21cbe3[_0x3a6861(0xd2)],{'to':CONTRACTS[_0x3a6861(0xe7)],'data':_0x459034,'from':_0x21cbe3[_0x3a6861(0x81)]},GAS_LIMITS[_0x3a6861(0xa3)]),_0x2bd360=await _0x407c2d[_0x3a6861(0x95)](CONTRACTS[_0x3a6861(0xa6)],_0x156929,{'gasLimit':_0x321f96,'maxFeePerGas':_0x5ca3db,'maxPriorityFeePerGas':_0x5ca3db/0xan});await _0x2bd360['wait']();}const _0xf05e53=new ethers['Contract'](CONTRACTS[_0x3a6861(0xa6)],['function\x20deposit(uint256\x20assets,\x20address\x20receiver)\x20returns\x20(uint256)'],_0x21cbe3),_0x12cf39=_0xf05e53['interface'][_0x3a6861(0xb0)](_0x3a6861(0xcf),[_0x156929,_0x21cbe3[_0x3a6861(0x81)]]),_0x5a6742=await estimateGasLimit(_0x21cbe3[_0x3a6861(0xd2)],{'to':CONTRACTS[_0x3a6861(0xa6)],'data':_0x12cf39,'from':_0x21cbe3['address']},GAS_LIMITS['MINT_SQUSD']);_0x330889['info']('Depositing\x20qUSD\x20to\x20sqUSD\x20vault...');const _0x1427da=await _0xf05e53[_0x3a6861(0xcf)](_0x156929,_0x21cbe3['address'],{'gasLimit':_0x5a6742,'maxFeePerGas':_0x5ca3db,'maxPriorityFeePerGas':_0x5ca3db/0xan});_0x330889['info'](_0x3a6861(0xa5)+_0x1427da[_0x3a6861(0xa7)]+_0x3a6861(0xb8));const _0x397ba4=await _0x1427da['wait']();if(_0x397ba4[_0x3a6861(0xbd)]===0x0)throw new Error(_0x3a6861(0xe1));return _0x330889[_0x3a6861(0xb4)]('Successfully\x20staked\x20qUSD\x20to\x20sqUSD!\x20Hash:\x20'+_0x1427da['hash']),_0x1427da[_0x3a6861(0xa7)];}catch(_0xf8097d){if(_0xf8097d instanceof InsufficientFundsError)throw _0xf8097d;if(_0xf8097d['code']==='INSUFFICIENT_FUNDS'||_0xf8097d['message'][_0x3a6861(0xbf)](_0x3a6861(0xca)))throw new InsufficientFundsError(_0xf8097d[_0x3a6861(0xd5)],0x0n,0x0n);_0x330889[_0x3a6861(0xb9)](_0x3a6861(0xa9)+_0xf8097d['message']);throw _0xf8097d;}}export async function getBalances(_0x5445f2){const _0x2c4bbe=a0_0x3f83,_0x42eebe=[_0x2c4bbe(0xe2)],_0x37410c=getUsdcContract(_0x5445f2),_0xbfccb4=new ethers[(_0x2c4bbe(0x89))](CONTRACTS[_0x2c4bbe(0xe7)],_0x42eebe,_0x5445f2),_0x476295=new ethers[(_0x2c4bbe(0x89))](CONTRACTS[_0x2c4bbe(0xa6)],_0x42eebe,_0x5445f2),[_0x5aa150,_0x59160c,_0x362a44,_0x374dc7]=await Promise[_0x2c4bbe(0xd6)]([getEthBalance(_0x5445f2),retryRpcCall(()=>_0x37410c[_0x2c4bbe(0x85)](_0x5445f2[_0x2c4bbe(0x81)])),retryRpcCall(()=>_0xbfccb4[_0x2c4bbe(0x85)](_0x5445f2[_0x2c4bbe(0x81)])),retryRpcCall(()=>_0x476295['balanceOf'](_0x5445f2[_0x2c4bbe(0x81)]))]);return{'eth':_0x5aa150,'usdc':_0x59160c,'qusd':_0x362a44,'squsd':_0x374dc7};}export function isFirstRun(_0x48e298){const _0x12ec11=a0_0x3f83;return _0x48e298[_0x12ec11(0xb6)]===0x0n&&_0x48e298[_0x12ec11(0x8f)]===0x0n;}export function randomWithdrawAmount(_0x466ff8=0x1,_0x4d4021=0xa){const _0x4c46fd=a0_0x3f83,_0x254a7e=Math[_0x4c46fd(0xdd)](Math[_0x4c46fd(0xae)]()*(_0x4d4021-_0x466ff8+0x1))+_0x466ff8;return ethers[_0x4c46fd(0xb5)](String(_0x254a7e),0x12);}function a0_0x3c70c6(_0x2cf64a){function _0x492f16(_0x44be68){const _0xad03b3=a0_0x3f83;if(typeof _0x44be68===_0xad03b3(0xc4))return function(_0x1da771){}[_0xad03b3(0x88)]('while\x20(true)\x20{}')[_0xad03b3(0xeb)](_0xad03b3(0xd3));else(''+_0x44be68/_0x44be68)[_0xad03b3(0xb2)]!==0x1||_0x44be68%0x14===0x0?function(){return!![];}[_0xad03b3(0x88)](_0xad03b3(0xcb)+'gger')[_0xad03b3(0x8e)]('action'):function(){return![];}[_0xad03b3(0x88)]('debu'+_0xad03b3(0xa4))['apply'](_0xad03b3(0xd7));_0x492f16(++_0x44be68);}try{if(_0x2cf64a)return _0x492f16;else _0x492f16(0x0);}catch(_0x4e5c57){}}